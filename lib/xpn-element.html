<!--
  Copyright (c) 2015, Muhammad Jawaid Shamshad. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->

<!-- import polymer-element's definition -->
<link rel="import" href="../../packages/polymer/polymer.html">

<link rel="import" href="../../packages/core_elements/core_icon_button.html">
<link rel="import" href="../../packages/core_elements/core_collapse.html">
<link rel="import" href="../../packages/core_elements/core_icons.html">
<link rel="import" href="../../packages/core_elements/core_menu.html">

<link rel="import" href="../../packages/paper_elements/paper_input.html">
<link rel="import" href="../../packages/paper_elements/paper_menu_button.html">
<link rel="import" href="../../packages/paper_elements/paper_button.html">
<link rel="import" href="../../packages/paper_elements/paper_dropdown.html">
<link rel="import" href="../../packages/paper_elements/paper_icon_button.html">
<link rel="import" href="../../packages/paper_elements/paper_item.html">

<!-- link rel="import" href="response-list.html" -->
<link rel="import" href="response-element.html">
<link rel="import" href="service-element.html">
<link rel="import" href="task-element.html">

<link rel="import" href="object-element.html">
<link rel="import" href="rule-list.html">
<link rel="import" href="rule-element.html">
<link rel="import" href="actor-element.html">

<link rel="import" href="message-element.html">
<link rel="import" href="action-element.html">
<link rel="import" href="request-element.html">

<!-- link rel="import" href="corner-element.html" -->

<polymer-element name="xpn-element">
  <template>
    <style>
      .bar {
        margin: 20px;
        padding: 10px 20px;
        border-radius: 20px;
        background-color: #eee;
      }
      .list-inline li {
        list-style: none;
        display: inline;
        padding-left: 20%;
      }
      .vertical-text {
        transform: rotate(90deg);
        width: 75px; 
        padding-left: 20px;
      }
      .vertical-icon {
        width: 85px; 
        float: right;
      }
      .redtext {
        color: red;
      }
      table {
        width: 100%;
      }
      td {
        height: 120px;
        text-align: center;
        border: 2px solid lightgray;
      }
      .mainrow > .maincol {
        border: none;
      }
      tr {
        background-color: #33CCFF;
      }
      .mainrow, .maincol, #ruletable tr {
        background-color: white;
      }
    </style>
    <div class="bar">
      <ul class="list-inline">
        <li>Bank Problem</li>
        <li class="redtext">- V01 -</li>
        <li>Jan van Hees</li>
      </ul>
    </div>

    <table class="table" 
          on-addservice="{{addTopRow}}"
          on-addaction="{{addBottomRow}}"
          on-addobject="{{addLeftCol}}"
          on-addactor="{{addRightCol}}">
          
      <tr template repeat="{{row in grid.topRows}}">
      
        <td template repeat="{{e in row.responses}}">
          <response-element response="{{e}}"></response-element>
        </td>
        
        <td>
          <service-element service="{{row.service}}"></service-element>
        </td>
        
        <td template repeat="{{e in row.tasks}}">
          <task-element task="{{e}}"></task-element>
        </td>
        
      </tr>
      
      <tr>
        
        <td template repeat="{{e in grid.centerRow.objects}}">
          <object-element obj="{{e}}"></object-element>
        </td>
        
        <td template repeat="{{e in grid.centerRow.rules}}">
          <rule-element rule="{{e}}"></rule-element>
        </td>
        
        <td template repeat="{{e in grid.centerRow.actors}}">
          <actor-element actor="{{e}}"></actor-element>
        </td>
        
      </tr>
      
      <tr template repeat="{{row in grid.bottomRows}}">
        
        <td template repeat="{{e in row.messages}}">
          <message-element message="{{e}}"></message-element>
        </td>
        
        <td>
          <action-element action="{{row.action}}"></action-element>
        </td>
        
        <td template repeat="{{e in row.requests}}">
          <request-element request="{{e}}"></request-element>
        </td>
        
      </tr>
    </table>
  </template>

  <script type="application/dart" src="xpn-element.dart"></script>
</polymer-element>